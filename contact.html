<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Marketing Agency - Contact Us</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light background */
            color: #333;
        }
        /* Custom styles for active navigation link */
        .nav-link.active {
            @apply text-blue-600 border-b-2 border-blue-600;
        }
    </style>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TDPZVD58');</script>
    <!-- End Google Tag Manager -->
</head>
<body class="min-h-screen flex flex-col">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletmanager.com/ns.html?id=GTM-TDPZVD58"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md py-4">
        <nav class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-gray-800">
                Your Agency
            </a>
            <ul class="flex space-x-6">
                <li><a href="index.html" class="nav-link text-gray-600 hover:text-blue-600 py-2 rounded-md transition duration-300 ease-in-out font-medium">Home</a></li>
                <li><a href="services.html" class="nav-link text-gray-600 hover:text-blue-600 py-2 rounded-md transition duration-300 ease-in-out font-medium">Services</a></li>
                <li><a href="contact.html" class="nav-link text-gray-600 hover:text-blue-600 py-2 rounded-md transition duration-300 ease-in-out font-medium">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content Area - Contact Us Page Section -->
    <main class="flex-grow">
        <section id="contact-page" class="py-20 px-4 bg-gray-100">
            <div class="container mx-auto">
                <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Get in Touch</h2>
                <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-200">
                    <form onsubmit="trackFormSubmission(event); return false;">
                        <div class="mb-6">
                            <label for="name" class="block text-gray-700 text-sm font-bold mb-2">Name:</label>
                            <input type="text" id="name" name="name" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Your Name" required>
                        </div>
                        <div class="mb-6">
                            <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                            <input type="email" id="email" name="email" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="your@example.com" required>
                        </div>
                        <div class="mb-6">
                            <label for="message" class="block text-gray-700 text-sm font-bold mb-2">Message:</label>
                            <textarea id="message" name="message" rows="6" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y" placeholder="Tell us about your project..." required></textarea>
                        </div>
                        <div class="flex items-center justify-center">
                            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300 ease-in-out transform hover:scale-105 contact-form-submit-button">
                                Send Message
                            </button>
                        </div>
                    </form>
                    <div class="mt-8 text-center text-gray-600">
                        <p class="mb-2"><strong>Email:</strong> info@youragency.com</p>
                        <p class="mb-2"><strong>Phone:</strong> +1 (123) 456-7890</p>
                        <p><strong>Address:</strong> 123 Digital Blvd, Suite 100, Marketing City, DM 90210</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 Your Digital Marketing Agency. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Data Layer is defined by GTM snippet, but good to have a fallback
        window.dataLayer = window.dataLayer || [];

        // Function to set the active navigation link based on the current page
        function setActiveNavLink() {
            const path = window.location.pathname;
            const filename = path.substring(path.lastIndexOf('/') + 1);
            const navLinks = document.querySelectorAll('.nav-link');

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === filename || (filename === '' && link.getAttribute('href') === 'index.html')) {
                    link.classList.add('active');
                }
            });
        }

        // Initialize active nav link on load
        document.addEventListener('DOMContentLoaded', setActiveNavLink);

        // --- GTM Tracking Functions ---

        /**
         * Tracks CTA clicks.
         * @param {string} eventName - The specific event name (e.g., 'hero_cta_click').
         * @param {string} ctaLabel - A descriptive label for the clicked CTA.
         * @param {Event} event - The click event.
         */
        function trackClick(eventName, ctaLabel, event) {
            window.dataLayer.push({
                'event': 'cta_click', // Universal event for GTM trigger
                'event_category': 'Engagement',
                'event_action': 'Click',
                'event_label': ctaLabel,
                'specific_cta_event': eventName // More specific identifier if needed
            });
            console.log(`GTM: Click Tracked - Event: cta_click, Label: ${ctaLabel}`);
        }

        /**
         * Tracks form submissions and redirects to a thank you page.
         * @param {Event} event - The form submission event.
         */
        function trackFormSubmission(event) {
            event.preventDefault(); // Prevent actual form submission for demo (and default browser refresh)

            // Push form submission event to Data Layer
            window.dataLayer.push({
                'event': 'form_submission',
                'event_category': 'Lead',
                'event_action': 'Submit',
                'event_label': 'Contact Form'
            });
            console.log("GTM: Form Submission Tracked - Event: form_submission");

            // Redirect to thank you page
            window.location.href = 'thankyou.html';
        }

        /**
         * Tracks file downloads.
         * @param {string} fileName - The name of the downloaded file.
         * @param {string} fileType - The type of the file (e.g., 'PDF', 'DOCX').
         * @param {Event} event - The click event.
         */
        function trackDownload(fileName, fileType, event) {
            window.dataLayer.push({
                'event': 'file_download',
                'event_category': 'Engagement',
                'event_action': 'Download',
                'event_label': `${fileName} (${fileType})`,
                'file_name': fileName,
                'file_type': fileType
            });
            console.log(`GTM: Download Tracked - File: ${fileName}, Type: ${fileType}`);

            // In a real scenario, you'd trigger the actual download here
            // For this demo, the link has a 'download' attribute
        }

        // --- Scroll Depth Tracking ---
        const scrollThresholds = [25, 50, 75, 90]; // Percentages to track
        const scrollTracked = {}; // To store which percentages have been tracked per page

        function trackScrollDepth() {
            const pageHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = window.scrollY;
            const scrollPercent = (scrolled / pageHeight) * 100;
            const currentPagePath = window.location.pathname; // Use pathname for multi-page tracking

            scrollThresholds.forEach(threshold => {
                // Track only if current scroll percentage is past the threshold
                // and it hasn't been tracked for the current page yet
                if (scrollPercent >= threshold && (!scrollTracked[currentPagePath] || !scrollTracked[currentPagePath][threshold])) {
                    window.dataLayer.push({
                        'event': 'scroll_depth',
                        'event_category': 'Engagement',
                        'event_action': 'Scroll',
                        'event_label': `${threshold} Percent Scrolled`,
                        'scroll_percentage': threshold,
                        'page_at_scroll': currentPagePath
                    });
                    console.log(`GTM: Scroll Depth Tracked - ${threshold}% on ${currentPagePath}`);
                    // Mark as tracked
                    if (!scrollTracked[currentPagePath]) {
                        scrollTracked[currentPagePath] = {};
                    }
                    scrollTracked[currentPagePath][threshold] = true;
                }
            });
        }

        // Listen for scroll events
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(trackScrollDepth, 200); // Debounce scroll event
        });

        // Initial scroll depth check on page load
        document.addEventListener('DOMContentLoaded', trackScrollDepth);

        // --- Custom Message Box (replacing alert()) ---
        // This function is no longer directly called for form submissions due to redirection,
        // but kept for other potential uses or consistency if other messages are added.
        function displayMessage(message) {
            const messageBox = document.createElement('div');
            messageBox.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
                z-index: 1000;
                text-align: center;
                max-width: 90%;
                font-family: 'Inter', sans-serif;
                color: #333;
            `;
            messageBox.innerHTML = `
                <p class="text-lg mb-4">${message}</p>
                <button class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition duration-300 ease-in-out" onclick="this.parentNode.remove()">
                    OK
                </button>
            `;
            document.body.appendChild(messageBox);
        }
    </script>
</body>
</html>
